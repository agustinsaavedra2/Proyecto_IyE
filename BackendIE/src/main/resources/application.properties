# --- Postgres ---

spring.application.name=BackendIE

spring.datasource.username=postgres
spring.datasource.password=${DB_PASSWORD}
spring.datasource.url=jdbc:postgresql://${DB_POSTGRES_HOST:localhost}:${DB_POSTGRES_PORT:5432}/${DB_POSTGRES_NAME:postgres}
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=create
#Para real, produccion se pone "spring.jpa.hibernate.ddl-auto=update"
spring.jpa.open-in-view=false


token.secret=${TOKEN_SECRET}
frontend.url=${FRONTEND_URL}
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${EMAIL_USERNAME}
spring.mail.password=${EMAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
email.from=${EMAIL_FROM}

spring.main.web-application-type=servlet


# --- MongoDB ---
spring.mongodb.uri=mongodb://${DB_MONGO_HOST:localhost}:${DB_MONGO_PORT:27017}/${DB_MONGO_NAME:auditoria_db}


# === OLLAMA SETTINGS ===
# Use the model available in local Ollama install by default
spring.ai.ollama.base-url=${OLLAMA_BASE_URL:http://localhost:11434}
spring.ai.ollama.chat.model=${OLLAMA_MODEL:llama3.1:8b}

# === Login Level ===
#logging.level.org.springframework=DEBUG
#logging.level.com.backendie=DEBUG
#logging.level.com.zaxxer.hikari=DEBUG
#logging.level.org.hibernate.SQL=DEBUG
#logging.level.org.hibernate.type.descriptor.sql=TRACE

# Actuator / Micrometer
management.endpoints.web.exposure.include=health,info,prometheus,metrics
management.endpoint.health.show-details=always
management.endpoint.prometheus.enabled=true
management.prometheus.metrics.export.enabled=true
# For local Jaeger collector: OTEL_EXPORTER_JAEGER_ENDPOINT=http://jaeger:14250

# CORS allowed origins override
# Permite el puerto 3000 (Docker)
app.cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:3000}

# Rate limiting settings (example)
app.rate.limit.perMinute=100