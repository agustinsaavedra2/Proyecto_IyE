{ "info": { "name": "BackendIE - Demo Collection", "_postman_id": "b2f9c7d8-0000-4a1a-9f3c-aaaaaaaaaaaa", "description": "Colección para demo: endpoints principales (auth, empresas, riesgos, auditorías/ML). Variables: {{baseUrl}}, {{token}}, {{empresaId}}, {{riesgoId}}.", "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json" }, "item": [ { "name": "Register Admin (create if missing)", "request": { "method": "POST", "header": [ { "key": "Content-Type", "value": "application/json" } ], "body": { "mode": "raw", "raw": "{\"nombre\": \"Admin Demo\", \"email\": \"admin.demo@example.com\", \"password\": \"password123\"}" }, "url": { "raw": "{{baseUrl}}/api/usuarios/registerAdmin", "host": [ "{{baseUrl}}" ], "path": [ "api", "usuarios", "registerAdmin" ] } }, "response": [] }, { "name": "Login - get token", "request": { "method": "POST", "header": [ { "key": "Content-Type", "value": "application/json" } ], "body": { "mode": "raw", "raw": "{\"email\": \"admin.demo@example.com\", \"password\": \"password123\"}" }, "url": { "raw": "{{baseUrl}}/api/usuarios/login", "host": [ "{{baseUrl}}" ], "path": [ "api", "usuarios", "login" ] } }, "response": [] }, { "name": "Create Empresa", "request": { "method": "POST", "header": [ { "key": "Content-Type", "value": "application/json" }, { "key": "Authorization", "value": "Bearer {{token}}" } ], "body": { "mode": "raw", "raw": "{\"admin\":1,\"categoriaId\":1,\"nombre\":\"Demo S.A.\",\"codigoEmpresa\":\"DEMO-01\",\"ubicacion\":\"Santiago\",\"descripcion\":\"Empresa demo para presentación\" }" }, "url": { "raw": "{{baseUrl}}/api/empresas/registrar", "host": [ "{{baseUrl}}" ], "path": [ "api", "empresas", "registrar" ] } }, "response": [] }, { "name": "List Empresas (DTO) - no tenant header", "request": { "method": "GET", "header": [ { "key": "Authorization", "value": "Bearer {{token}}" } ], "url": { "raw": "{{baseUrl}}/api/empresas/dto", "host": [ "{{baseUrl}}" ], "path": [ "api", "empresas", "dto" ] } }, "response": [] }, { "name": "List Empresas (DTO) - with X-Categoria-id", "request": { "method": "GET", "header": [ { "key": "Authorization", "value": "Bearer {{token}}" }, { "key": "X-Categoria-id", "value": "1" } ], "url": { "raw": "{{baseUrl}}/api/empresas/dto", "host": [ "{{baseUrl}}" ], "path": [ "api", "empresas", "dto" ] } }, "response": [] }, { "name": "Create Riesgo", "request": { "method": "POST", "header": [ { "key": "Content-Type", "value": "application/json" }, { "key": "Authorization", "value": "Bearer {{token}}" } ], "body": { "mode": "raw", "raw": "{\"empresaId\": {{empresaId}}, \"titulo\": \"Riesgo demo\", \"descripcion\": \"Demo de riesgo para la presentación\", \"categoria\": \"compliance\", \"probabilidad\": \"media\", \"impacto\": \"medio\", \"nivelRiesgo\": \"Medio\" }" }, "url": { "raw": "{{baseUrl}}/api/riesgos", "host": [ "{{baseUrl}}" ], "path": [ "api", "riesgos" ] } }, "response": [] }, { "name": "Update Riesgo", "request": { "method": "PUT", "header": [ { "key": "Content-Type", "value": "application/json" }, { "key": "Authorization", "value": "Bearer {{token}}" } ], "body": { "mode": "raw", "raw": "{\"id\": {{riesgoId}}, \"nivelRiesgo\": \"Alto\" }" }, "url": { "raw": "{{baseUrl}}/api/riesgos/{{riesgoId}}", "host": [ "{{baseUrl}}" ], "path": [ "api", "riesgos", "{{riesgoId}}" ] } }, "response": [] }, { "name": "Delete Riesgo", "request": { "method": "DELETE", "header": [ { "key": "Authorization", "value": "Bearer {{token}}" } ], "url": { "raw": "{{baseUrl}}/api/riesgos/{{riesgoId}}", "host": [ "{{baseUrl}}" ], "path": [ "api", "riesgos", "{{riesgoId}}" ] } }, "response": [] }, { "name": "Create Auditoria (Ollama) - ejemplo", "request": { "method": "POST", "header": [ { "key": "Content-Type", "value": "application/json" }, { "key": "Authorization", "value": "Bearer {{token}}" } ], "body": { "mode": "raw", "raw": "{\"empresaId\": {{empresaId}}, \"tipo\": \"sanitaria\", \"objetivo\": \"Revisión inicial\", \"auditorLiderId\": 1, \"idsDePoliticasAEvaluar\": [] }" }, "url": { "raw": "{{baseUrl}}/api/ollama/crearAuditoria", "host": [ "{{baseUrl}}" ], "path": [ "api", "ollama", "crearAuditoria" ] } }, "response": [] }, { "name": "Generar Documento LLM (example)", "request": { "method": "POST", "header": [ { "key": "Content-Type", "value": "application/json" }, { "key": "Authorization", "value": "Bearer {{token}}" } ], "body": { "mode": "raw", "raw": "{\"empresaId\": {{empresaId}}, \"template\": \"politica_higiene\", \"context\": {\"nombreEmpresa\": \"Demo S.A.\"} }" }, "url": { "raw": "{{baseUrl}}/api/llm/generateDocument", "host": [ "{{baseUrl}}" ], "path": [ "api", "llm", "generateDocument" ] } }, "response": [] } ], "variable": [ { "key": "baseUrl", "value": "http://localhost:8080" }, { "key": "token", "value": "" }, { "key": "empresaId", "value": "1" }, { "key": "riesgoId", "value": "1" } ] }

